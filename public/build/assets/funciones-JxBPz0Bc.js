window.saveLink=function(e){console.log(e);const s=e.getAttribute("data-link");e.data={btnhtml:e.innerHTML},e.innerHTML='<span class="spinner-border spinner-border-sm ms-1" role="status" aria-hidden="true"></span>',e.disabled=!0,fetch(s).then(r=>r.json()).then(r=>{if(console.log(r,r.status),r.form&&typeof r.form=="object")for(let t in r.form){let o=r.form[t];document.getElementsByName(t)[0].value=o}if(r.table&&typeof r.table=="object")for(let t in r.table){let n=document.getElementById(t).getElementsByTagName("tbody")[0];n.innerHTML="",Array.isArray(r.table[t])&&r.table[t].forEach(i=>{let l=n.insertRow();for(let a in i){let c=l.insertCell();c.innerHTML=i[a]}})}try{Swal.fire({position:"center",icon:r.status>0?"error":"success",title:r.msg??(r.status?"Operación NO realizada.":"Operación realizada con éxito."),showConfirmButton:!1,timer:1500})}catch{throw new Error("Error: Falta librería SweetAlerts2")}e.innerHTML=e.data.btnhtml,e.disabled=!1}).catch(r=>{console.error("Error:",r)})};
