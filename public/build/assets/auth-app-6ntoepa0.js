/* empty css              */function l(){document.getElementById("loader").classList.add("d-none")}window.addEventListener("load",l);document.querySelectorAll("textarea.noenter").forEach(e=>{e.addEventListener("keydown",t=>{t.key==="Enter"&&t.preventDefault()})});document.querySelectorAll("input.importe").forEach(e=>{e.addEventListener("input",t=>{const r=t.target.value;/^[0-9.]*$/.test(r)||(t.target.value=r.replace(/[^0-9.]/g,""))})});document.querySelectorAll("input.numeros").forEach(e=>{e.addEventListener("input",t=>{const r=t.target.value;/^[0-9]*$/.test(r)||(t.target.value=r.replace(/[^0-9]/g,""));const n=t.target.getAttribute("maxlength");n&&r.length>n&&(t.target.value=r.slice(0,n))})});document.querySelectorAll("input.upper").forEach(e=>{e.addEventListener("input",t=>{const r=t.target.value;t.target.value=r.toUpperCase()})});document.querySelectorAll('[type="submit"]').forEach(e=>{e.addEventListener("click",()=>{e.prevendDefault,e.data={btnhtml:e.innerHTML},e.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> Guardando...',e.disabled=!0;const t=document.getElementById(e.getAttribute("form"));t&&!t.classList.contains("form-modal")?t.submit():$.ajax({url:t.action,type:t.method,data:new FormData(t),processData:!1,contentType:!1,success:function(r){if(e.innerHTML=e.data.btnhtml,e.disabled=!1,document.querySelectorAll("small.invalid").forEach(a=>{a.remove()}),r.errors){const a=r.errors;for(const n in a){const d=a[n][0],o=document.createElement("small");o.classList.add("text-sm","text-danger","text-muted","invalid"),o.textContent=d;const s=document.getElementsByName(n)[0];s.classList.add("is-invalid"),s.insertAdjacentElement("afterend",o)}}else r.success&&t.classList.contains("form-modal")&&($("#modal").modal("hide"),$("#modal").on("hidden.bs.modal",function(a){}))},error:function(r){e.innerHTML=e.data.btnhtml,e.disabled=!1;const n=JSON.parse(r.responseText).errors;console.log(n)}})})});
